"use strict";function init(t,e){inputName=e;var n=function(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.addEventListener("load",function(){var t,i;4===r.readyState&&(t=r.status,200===t?(i=JSON.parse(r.responseText),e&&e(i)):n&&n(t))}),r.send(null)};n(t,function(t){listData=t},function(t){console.log("Error: "+t)})}function recordFilter(){function t(t,e){var n,r=document.getElementById(o),i=r.querySelector("."+l),c={tab:9,return:13,arrowLeft:37,arrowUp:38,arrowRight:39,arrowDown:40};if(t===c.tab)for(var u=focusableElements(),f=0;f<u.length;f++)u[f]===document.activeElement&&(n=u[f+(e?-1:1)]);else if([c.arrowLeft,c.arrowRight].indexOf(t)>-1)for(var h=r.getElementsByClassName(s),d=0;d<h.length;d++)i===h[d]&&(n=h[d+(t===c.arrowLeft?-1:1)]);else if([c.arrowUp,c.arrowDown].indexOf(t)>-1){var p=i.getAncestorByClassName(a),m=t===c.arrowUp?p.previousElementSibling:p.nextElementSibling;null!==m&&(n=m.querySelector("."+s))}return void 0!==n?n:null}function e(t){if(0===t.length){var e=[];for(var n in listData)e.push(n);return e}var r=[];for(var i in listData)r.push(listData[i]);var o={keys:["abbr","title","keywords","persons","links.title"],id:"key"},a=new Fuse(r,o);return a.search(t)}function n(t){for(var e="",n=0;n<t.length;n++)e+=r(t[n],listData[t[n]]);var a=document.getElementById(o);a.innerHTML=e,a.hasChildNodes()&&i(a.firstElementChild.getElementsByClassName(s)[0])}function r(t,e){var n='<li class="'+a+'" data-key="'+e.key+'"><div class="'+a+'__title">'+e.title+"</div>";if(e.links.length>0){n+='<nav class="nav  record-nav">';for(var r=0;r<e.links.length;r++){var i=e.links[r];n+='<a class="'+a+'__link" href="'+i.url+'">'+i.title+"</a>"}}return n+="</nav></li>"}function i(t){if(void 0!==t&&t.className.indexOf(s)>-1){var e=document.getElementById(o),n=e.getElementsByClassName(l)[0];void 0!==n&&n.classList.remove(l),t.className+="  "+l}}var o="record-list",a="record",s=a+"__link",l=s+"--active",c=[];for(var u in listData){var f=listData[u];c=c.concat(f.title,f.abbr,f.keywords)}var h=document.getElementById(inputName);h.focus(),h.placeholder=c[Math.floor(Math.random()*c.length)],h.value.length>0&&n(e(h.value));var d=document.getElementById(o);null!==d.firstElementChild&&i(d.firstElementChild.getElementsByClassName(s)[0]);var p;h.addEventListener("input",function(t){p&&clearTimeout(p),p=setTimeout(function(){n(e(h.value))},150)},!1),document.addEventListener("focus",function(t){null!==document.activeElement&&i(document.activeElement)},!0),document.addEventListener("keydown",function(e){e=e||window.event;var n=e.keyCode,r=document.getElementById(o);if(r.hasChildNodes()){var i={tab:9,return:13,arrowLeft:37,arrowUp:38,arrowRight:39,arrowDown:40},a=Object.keys(i).map(function(t){return i[t]});if(a.indexOf(n)!==-1){var c=document.activeElement===document.getElementById(inputName);if(c?a=[i.return,i.arrowDown]:a.splice(a.indexOf(i.return),1),a.indexOf(n)!==-1){if(c)return r.querySelector("."+s).focus(),void(n===i.arrowDown&&e.preventDefault());var u=r.querySelector("."+l),f=t(n,e.shiftKey);null!==f&&f.classList.contains(s)&&([37,38,39,40].indexOf(n)>-1&&(e.preventDefault(),f.focus()),u.classList.remove(l),f.className+="  "+l)}}}})}function focusableElements(){for(var t=document.getElementsByTagName("*"),e=[],n=0;n<t.length;n++){var r=t[n];r.tabIndex>-1&&null!==r.offsetParent&&e.push(r)}return e}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(t,n){this.list=t,this.options=n=n||{};var r,i,o,a;for(r=0,a=["sort","shouldSort"],i=a.length;r<i;r++)o=a[r],this.options[o]=o in n?n[o]:e.defaultOptions[o];for(r=0,a=["searchFn","sortFn","keys","getFn","include"],i=a.length;r<i;r++)o=a[r],this.options[o]=n[o]||e.defaultOptions[o]}var n=function t(e,n){if(n=n||{},this.options=n,this.options.location=n.location||t.defaultOptions.location,this.options.distance="distance"in n?n.distance:t.defaultOptions.distance,this.options.threshold="threshold"in n?n.threshold:t.defaultOptions.threshold,this.options.maxPatternLength=n.maxPatternLength||t.defaultOptions.maxPatternLength,this.pattern=n.caseSensitive?e:e.toLowerCase(),this.patternLen=e.length,this.patternLen>this.options.maxPatternLength)throw new Error("Pattern length is too long");this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet()};n.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},n.prototype._calculatePatternAlphabet=function(){var t={},e=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]|=1<<this.pattern.length-e-1;return t},n.prototype._bitapScore=function(t,e){var n=t/this.patternLen,r=Math.abs(this.options.location-e);return this.options.distance?n+r/this.options.distance:r?1:n},n.prototype.search=function(t){if(t=this.options.caseSensitive?t:t.toLowerCase(),this.pattern===t)return{isMatch:!0,score:0};var e,n,r,i,o,a,s,l,c,u=t.length,f=this.options.location,h=this.options.threshold,d=t.indexOf(this.pattern,f),p=this.patternLen+u,m=1,v=[];for(d!=-1&&(h=Math.min(this._bitapScore(0,d),h),d=t.lastIndexOf(this.pattern,f+this.patternLen),d!=-1&&(h=Math.min(this._bitapScore(0,d),h))),d=-1,e=0;e<this.patternLen;e++){for(r=0,i=p;r<i;)this._bitapScore(e,f+i)<=h?r=i:p=i,i=Math.floor((p-r)/2+r);for(p=i,o=Math.max(1,f-i+1),a=Math.min(f+i,u)+this.patternLen,s=Array(a+2),s[a+1]=(1<<e)-1,n=a;n>=o;n--)if(c=this.patternAlphabet[t.charAt(n-1)],0===e?s[n]=(s[n+1]<<1|1)&c:s[n]=(s[n+1]<<1|1)&c|((l[n+1]|l[n])<<1|1)|l[n+1],s[n]&this.matchmask&&(m=this._bitapScore(e,n-1),m<=h)){if(h=m,d=n-1,v.push(d),!(d>f))break;o=Math.max(1,2*f-d)}if(this._bitapScore(e+1,f)>h)break;l=s}return{isMatch:d>=0,score:m}};var r=function t(e,n,r){var o,a,s;if(n){s=n.indexOf("."),s!==-1?(o=n.slice(0,s),a=n.slice(s+1)):o=n;var l=e[o];if(l)if(a||"string"!=typeof l&&"number"!=typeof l)if(i.isArray(l))for(var c=0,u=l.length;c<u;c++)t(l[c],a,r);else a&&t(l,a,r);else r.push(l)}else r.push(e);return r},i={deepValue:function(t,e){return r(t,e,[])},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}};e.defaultOptions={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:n,sortFn:function(t,e){return t.score-e.score},getFn:i.deepValue,keys:[]},e.prototype.set=function(t){return this.list=t,t},e.prototype.search=function(t){var e,n,r,o,a=new this.options.searchFn(t,this.options),s=this.list,l=s.length,c=this.options,u=this.options.keys,f=u.length,h=[],d={},p=[],m=function t(e,n,s){if(void 0!==e&&null!==e)if("string"==typeof e)r=a.search(e),r.isMatch&&(o=d[s],o?o.score=Math.min(o.score,r.score):(d[s]={item:n,score:r.score},h.push(d[s])));else if(i.isArray(e))for(var l=0;l<e.length;l++)t(e[l],n,s)};if("string"==typeof s[0])for(var v=0;v<l;v++)m(s[v],v,v);else for(var v=0;v<l;v++)for(n=s[v],e=0;e<f;e++)m(c.getFn(n,u[e]),n,v);c.shouldSort&&h.sort(c.sortFn);for(var y=c.id?function(t){h[t].item=c.getFn(h[t].item,c.id)[0]}:function(){},g=function(t){var e;if(c.include.length>0){e={item:h[t].item};for(var t=0;t<c.include.length;t++){var n=c.include[t];e[n]=h[t][n]}}else e=h[t].item;return e},v=0,b=h.length;v<b;v++)y(v),p.push(g(v));return p},"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.Fuse=e}(void 0);var listData,inputName;document.addEventListener("DOMContentLoaded",function(){document.body.classList.contains("js-disabled")&&document.body.classList.remove("js-disabled");var t=function t(){void 0!==listData?recordFilter():window.setTimeout(t,100)};t()}),Element.prototype.getAncestorByClassName=function(t){for(var e=this.parentElement;;){if(null===e)return null;if(e.classList.contains(t))return e;var e=e.parentElement}};